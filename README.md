# AIæ—…è¡Œè§„åˆ’æ™ºèƒ½ä½“ ğŸŒâœˆï¸

ä¸€ä¸ªåŸºäºç°ä»£AIæŠ€æœ¯æ ˆçš„æ™ºèƒ½æ—…è¡Œè§„åˆ’åŠ©æ‰‹ï¼Œé›†æˆå¤§æ¨¡å‹ã€RAGã€å¤šæ™ºèƒ½ä½“åä½œå’Œå·¥ä½œæµè‡ªåŠ¨åŒ–æŠ€æœ¯ï¼Œä¸ºç”¨æˆ·æä¾›ä¸ªæ€§åŒ–çš„ç«¯åˆ°ç«¯æ—…è¡Œè§„åˆ’æœåŠ¡ã€‚

## ğŸš€ é¡¹ç›®ç‰¹æ€§

- **ğŸ¤– å¤šè§’è‰²æ™ºèƒ½ä½“åä½œ**: åŸºäºLangChainçš„ä¸“ä¸šæ™ºèƒ½ä½“å›¢é˜Ÿï¼ˆèˆªç­ã€é…’åº—ã€è¡Œç¨‹ã€é¢„ç®—ã€å½“åœ°å‘å¯¼ï¼‰
- **ğŸ§  å…ˆè¿›AIæ¨ç†**: é›†æˆvLLMé«˜æ€§èƒ½æ¨ç†å¼•æ“ï¼Œæ”¯æŒQwen2.5-7B-Instructç­‰å¤§æ¨¡å‹
- **ğŸ“š RAGçŸ¥è¯†å¢å¼º**: åŸºäºå‘é‡æ•°æ®åº“çš„æ—…è¡ŒçŸ¥è¯†æ£€ç´¢ç³»ç»Ÿ
- **ğŸ”„ å·¥ä½œæµè‡ªåŠ¨åŒ–**: n8né©±åŠ¨çš„æ™ºèƒ½å·¥ä½œæµï¼Œè‡ªåŠ¨åŒ–å¤æ‚æ—…è¡Œè§„åˆ’æµç¨‹
- **ğŸ’¬ è‡ªç„¶è¯­è¨€äº¤äº’**: æ”¯æŒä¸­è‹±æ–‡çš„å¤šè½®å¯¹è¯ï¼Œæ™ºèƒ½æ„å›¾è¯†åˆ«
- **ğŸ¯ ä¸ªæ€§åŒ–æ¨è**: åŸºäºç”¨æˆ·åå¥½å’Œå†å²æ•°æ®çš„æ™ºèƒ½æ¨èç®—æ³•
- **ğŸ”Œ MCPåè®®é›†æˆ**: ç°ä»£åŒ–çš„æ¨¡å‹ä¸Šä¸‹æ–‡åè®®æ”¯æŒ
- **ğŸ³ å®¹å™¨åŒ–éƒ¨ç½²**: å®Œæ•´çš„Dockerå¾®æœåŠ¡æ¶æ„

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ç”¨æˆ·ç•Œé¢      â”‚    â”‚   APIç½‘å…³       â”‚    â”‚   è®¤è¯æœåŠ¡      â”‚
â”‚  (React/Vue)    â”‚â”€â”€â”€â–¶â”‚  (FastAPI)     â”‚â”€â”€â”€â–¶â”‚   (JWT)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                       â”‚                       â”‚
          â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¯¹è¯ç®¡ç†å™¨ (WebSocket)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ™ºèƒ½ä½“åè°ƒå™¨ (LangChain)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ èˆªç­æ™ºèƒ½ä½“   â”‚ é…’åº—æ™ºèƒ½ä½“   â”‚ è¡Œç¨‹æ™ºèƒ½ä½“   â”‚ æ¨èæ™ºèƒ½ä½“   â”‚ é¢„ç®—åˆ†æå¸ˆâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AIæ¨ç†å±‚ (vLLM + RAG)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æç¤ºè¯å¼•æ“   â”‚ ä¸Šä¸‹æ–‡ç®¡ç†   â”‚ å‘é‡æ£€ç´¢     â”‚    å·¥ä½œæµå¼•æ“ (n8n)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         æ•°æ®å±‚                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MySQL      â”‚ Redisç¼“å­˜   â”‚ Qdrantå‘é‡åº“â”‚    å¤–éƒ¨APIæœåŠ¡           â”‚
â”‚ (ä¸»æ•°æ®åº“)  â”‚ (ä¼šè¯çŠ¶æ€)   â”‚ (çŸ¥è¯†åº“)    â”‚ (èˆªç­/é…’åº—/å¤©æ°”/åœ°å›¾)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **Python 3.10**: ä¸»è¦å¼€å‘è¯­è¨€
- **FastAPI**: é«˜æ€§èƒ½Webæ¡†æ¶å’ŒAPIç½‘å…³
- **LangChain 0.3.12**: å¤šæ™ºèƒ½ä½“æ¡†æ¶å’Œå·¥å…·é“¾
- **Pydantic**: æ•°æ®éªŒè¯å’Œè®¾ç½®ç®¡ç†

### AIå’ŒML
- **vLLM**: é«˜æ€§èƒ½å¤§æ¨¡å‹æ¨ç†å¼•æ“
- **Qwen2.5-7B-Instruct**: ä¸»è¦å¯¹è¯æ¨¡å‹
- **sentence-transformers**: æ–‡æœ¬å‘é‡åŒ–

### æ•°æ®å­˜å‚¨
- **MySQL**: ä¸»æ•°æ®åº“ï¼ˆç”¨æˆ·æ•°æ®ã€æ—…è¡Œè®¡åˆ’ï¼‰
- **Redis**: ç¼“å­˜å’Œä¼šè¯ç®¡ç†
- **Qdrant**: å‘é‡æ•°æ®åº“ï¼ˆçŸ¥è¯†åº“ï¼‰

### å·¥ä½œæµå’Œé›†æˆ
- **n8n**: å·¥ä½œæµè‡ªåŠ¨åŒ–å¼•æ“
- **MCP**: æ¨¡å‹ä¸Šä¸‹æ–‡åè®®
- **WebSocket**: å®æ—¶é€šä¿¡

### éƒ¨ç½²å’Œè¿ç»´
- **Docker & Docker Compose**: å®¹å™¨åŒ–éƒ¨ç½²
- **Ubuntu 22.04.4**: ç›®æ ‡éƒ¨ç½²ç¯å¢ƒ
- **Prometheus + Grafana**: ç›‘æ§ç³»ç»Ÿ

## ğŸ“‹ é¡¹ç›®ç»“æ„

```
ai-travel-planner/
â”œâ”€â”€ services/                  # å¾®æœåŠ¡ç›®å½•
â”‚   â”œâ”€â”€ api-gateway/          # APIç½‘å…³æœåŠ¡
â”‚   â”œâ”€â”€ chat-service/         # å¯¹è¯ç®¡ç†æœåŠ¡
â”‚   â”œâ”€â”€ agent-service/        # æ™ºèƒ½ä½“æœåŠ¡
â”‚   â”œâ”€â”€ vllm-service/         # vLLMæ¨ç†æœåŠ¡
â”‚   â”œâ”€â”€ rag-service/          # RAGæ£€ç´¢æœåŠ¡
â”‚   â””â”€â”€ user-service/         # ç”¨æˆ·ç®¡ç†æœåŠ¡
â”œâ”€â”€ shared/                   # å…±äº«ç»„ä»¶
â”‚   â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ config/              # é…ç½®ç®¡ç†
â”œâ”€â”€ frontend/                # å‰ç«¯åº”ç”¨
â”œâ”€â”€ docs/                    # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ tests/                   # æµ‹è¯•ä»£ç 
â”œâ”€â”€ deployment/              # éƒ¨ç½²é…ç½®
â”‚   â”œâ”€â”€ docker/              # Dockeré…ç½®
â”‚   â”œâ”€â”€ k8s/                 # Kubernetesé…ç½®
â”‚   â””â”€â”€ monitoring/          # ç›‘æ§é…ç½®
â”œâ”€â”€ data/                    # æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ knowledge-base/      # çŸ¥è¯†åº“æ•°æ®
â”‚   â””â”€â”€ models/              # AIæ¨¡å‹æ–‡ä»¶
â””â”€â”€ scripts/                 # éƒ¨ç½²å’Œç»´æŠ¤è„šæœ¬
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.10+
- Docker & Docker Compose
- NVIDIA GPU (æ¨èï¼Œç”¨äºAIæ¨ç†)
- 16GB+ RAM

### ä¸€é”®å¯åŠ¨ç³»ç»Ÿ

#### ğŸ¯ æ¨èæ–¹æ³•ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/FlyAIBox/ai-travel-planner.git
cd ai-travel-planner
```

2. **ä¸€é”®å¯åŠ¨**
```bash
# è‡ªåŠ¨åŒ–å¯åŠ¨æ•´ä¸ªç³»ç»Ÿï¼ˆæ¨èï¼‰
./scripts/start_system.sh

# æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
./scripts/start_system.sh status

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
./scripts/start_system.sh logs

# åœæ­¢ç³»ç»Ÿ
./scripts/start_system.sh stop
```

#### ğŸ”§ æ‰‹åŠ¨å¯åŠ¨æ–¹æ³•

1. **åˆå§‹åŒ–ç³»ç»Ÿ**
```bash
# å¯åŠ¨åŸºç¡€æœåŠ¡
docker compose -f deployment/docker/docker-compose.dev.yml up -d redis qdrant mysql

# ç­‰å¾…æœåŠ¡å¯åŠ¨å®Œæˆï¼ˆçº¦30ç§’ï¼‰
sleep 30

# åˆå§‹åŒ–ç³»ç»Ÿï¼ˆåˆ›å»ºæ•°æ®åº“ã€å‘é‡é›†åˆã€æ„å»ºçŸ¥è¯†åº“ï¼‰
python scripts/init_system.py
```

2. **å¯åŠ¨æ‰€æœ‰æœåŠ¡**
```bash
# å¯åŠ¨å®Œæ•´ç³»ç»Ÿ
docker compose -f deployment/docker/docker-compose.dev.yml up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker compose -f deployment/docker/docker-compose.dev.yml ps
```

3. **éªŒè¯ç³»ç»Ÿ**
```bash
# æ£€æŸ¥å„æœåŠ¡å¥åº·çŠ¶æ€
curl http://localhost:8080/api/v1/health  # ChatæœåŠ¡
curl http://localhost:8001/api/v1/health  # RAGæœåŠ¡
curl http://localhost:8002/api/v1/health  # æ™ºèƒ½ä½“æœåŠ¡
curl http://localhost:8003/api/v1/health  # ç”¨æˆ·æœåŠ¡
curl http://localhost:8080/gateway/health # APIç½‘å…³

# æ£€æŸ¥MCPå·¥å…·åˆ—è¡¨
curl http://localhost:8080/api/v1/mcp/tools

# æµ‹è¯•èŠå¤©API
curl -X POST http://localhost:8080/api/v1/chat \
  -H "Content-Type: application/json" \
  -d '{"content": "æˆ‘æƒ³å»åŒ—äº¬æ—…æ¸¸", "user_id": "test_user"}'
```

### æœåŠ¡ç«¯ç‚¹

- **ChatæœåŠ¡**: http://localhost:8080
  - APIæ–‡æ¡£: http://localhost:8080/docs
  - WebSocket: ws://localhost:8080/ws/{user_id}
- **å‘é‡æ•°æ®åº“**: http://localhost:6333
- **Redisç¼“å­˜**: localhost:6379
- **MySQLæ•°æ®åº“**: localhost:3306
- **n8nå·¥ä½œæµ**: http://localhost:5678 (admin/ai_travel_n8n)
- **Prometheusç›‘æ§**: http://localhost:9090
- **Grafanaä»ªè¡¨æ¿**: http://localhost:3000 (admin/ai_travel_grafana)

## ğŸ“š æ–‡æ¡£

- [éœ€æ±‚æ–‡æ¡£](.kiro/specs/ai-travel-planner/requirements.md)
- [è®¾è®¡æ–‡æ¡£](.kiro/specs/ai-travel-planner/design.md)
- [ä»»åŠ¡åˆ—è¡¨](.kiro/specs/ai-travel-planner/tasks.md)
- [APIæ–‡æ¡£](docs/api.md)
- [éƒ¨ç½²æŒ‡å—](docs/deployment.md)

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒï¼â­**

[![Star History Chart](https://api.star-history.com/svg?repos=FlyAIBox/ai-travel-planner&type=Date)](https://www.star-history.com/#FlyAIBox/ai-travel-planner&Date)

**ğŸ”— æ›´å¤šè®¿é—®ï¼š[å¤§æ¨¡å‹å®æˆ˜101](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzkzODUxMTY1Mg==&action=getalbum&album_id=3945699220593803270#wechat_redirect)**

</div>

